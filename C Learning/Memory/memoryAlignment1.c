#include <stdio.h>
#include <stdlib.h>

/*
1. 메모리 정령(Alignment)란?
메모리 정렬은 데이터가 메모리의 특정 배수 주소에 저장된느 것을 의미.

필요한 이유:
CPU는 데이터를 읽을 때 4바이트(32비트) 또는 8바이트 (64비트) 단위로 읽음.
1. 정렬된 데이터: 1번에 읽음 (빠름)
2. 정렬 안 된 데이터: 2번 읽어야 함 (느림)
메모리 주소:  0    4    8    12   16   20
            [----][----][----][----][----]
정렬 O:      [int ]          [int ]
정렬 X:          [int-][-int]
                    ↑ CPU가 2번 읽어야 함
*/

// 2. 정렬 규칙
// 기본 타입의 정렬

int main()
{
    char c;   // 1바이트 정렬 (어디든 가능)
    short s;  // 2바이트 정렬 (주소가 2의 배수)
    int i;    // 4바이트 정렬 (주소가 4의 배수)
    long l;   // 8바이트 정렬 (주소가 8의 배수, 64비트)
    float f;  // 4바이트 정렬
    double d; // 8바이트 정렬
    void *p;  // 8바이트 정렬 (64비트 시스템)

    printf("char 주소: %p (정렬: 아무거나)\n", (void *)&c);
    printf("short 주소: %p (정렬: 2의 배수)\n", (void *)&s);
    printf("int 주소: %p (정렬: 4의 배수)\n", (void *)&i);
    printf("double 주소: %p (정렬: 8의 배수)\n", (void *)&d);

    /*
    출력 예시:
    char 주소: 0x7ffd1234567f
    short 주소: 0x7ffd12345680  ← 끝이 0, 2, 4, 6, 8...
    int 주소: 0x7ffd12345684    ← 끝이 0, 4, 8, c...
    double 주소: 0x7ffd12345688  ← 끝이 0, 8...
    */

    return 0;
}